function SuperSecretJS(a,b){function c(a){function c(a,b,c){return"rgb("+a+","+b+","+c+")"}function d(a,b,c){return Math.round(a-(a-b)/100*c)}for(var e=b.colors,f=1;f<e.length;f++)if(e[f].max>=a){startColor=e[f-1],endColor=e[f],per=(a-startColor.max)/(endColor.max-startColor.max)*100;break}return c(d(startColor.color[0],endColor.color[0],per),d(startColor.color[1],endColor.color[1],per),d(startColor.color[2],endColor.color[2],per))}function d(a){for(var c=0,d=0;d<b.rules.length;d++)c+=a.match(b.rules[d].regex)?b.rules[d].points:0;0!=c&&(c=Math.min(Math.round(Math.log(c,2)*a.length*1.1),100)),f(c),e(a)}function e(a){var c=!0;$(g.suggestionPane).children().each(function(d,e){b.suggestions[d].matches(a)?$(e).addClass("ok"):($(e).removeClass("ok"),b.suggestions[d].required&&(c=!1))}),c?$(".supersecret-wrapper").children("input").removeClass("invalid"):$(".supersecret-wrapper").children("input").addClass("invalid")}function f(a){$(g.levelBar).css({"background-color":c(a),width:Math.round(10*a)/10+"%"})}var g=this;b||(b={}),b.colors||(b.colors=[{max:0,color:[255,0,50]},{max:30,color:[255,150,50]},{max:60,color:[225,255,50]},{max:100,color:[150,255,50]}]),b.suggestions||(b.suggestions=[]),b.rules||(b.rules=[{points:26,regex:new RegExp("[a-z]")},{points:26,regex:new RegExp("[A-Z]")},{points:10,regex:new RegExp("[0-9]")},{points:36,regex:new RegExp("[\\\\|¬¦`!\"£$%^&*=()_+\\[\\]{};:'@#~<>,./? -]")}]),function(){g.wrapper=$(a).wrap('<div class="supersecret-wrapper"></div>').parent(),g.passwordElement=$(a),g.showPasswordElement=g.passwordElement.clone().attr("id",null).attr("type","text").hide().appendTo(g.wrapper),g.levelBar=$('<div class="supersecret-level-bar"></div>').appendTo(g.wrapper),$('<div style="clear:both;"></div>').appendTo(g.wrapper),g.suggestionPane=$('<div class="suggestion-pane"></div>').appendTo(g.wrapper);for(var c=0;c<b.suggestions.length;c++)$('<div class="suggestion-item">'+b.suggestions[c].description+"</div>").appendTo(g.suggestionPane);g.levelBar.css({borderRadius:g.passwordElement.css("borderRadius")}),g.passwordElement.on("keyup",function(){g.showPasswordElement.val(g.passwordElement.val()),d(g.passwordElement.val())}),d(g.passwordElement.val())}()}SuperSecretJS.prototype.togglePassword=function(){this.passwordElement.is(":visible")?this.showPassword():this.hidePassword()},SuperSecretJS.prototype.showPassword=function(){this.showPasswordElement.insertBefore(this.passwordElement).show(),this.passwordElement.hide()},SuperSecretJS.prototype.hidePassword=function(){this.passwordElement.insertBefore(this.showPasswordElement).show(),this.showPasswordElement.hide()};